{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Container,Navbar,Button}from\"react-bootstrap\";import classes from'./Navbar.module.css';import Web3 from\"web3\";import ImageProfile from\"../ui/ImageProfile\";function NavigationBar(props){var connectWallet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var user,_user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!window.ethereum){_context.next=16;break;}window.web3=new Web3(window.ethereum);_context.next=5;return window.ethereum.enable();case 5:_context.next=7;return window.web3.eth.getAccounts();case 7:user=_context.sent;_context.t0=props;_context.next=11;return window.web3.eth.getAccounts();case 11:_context.t1=_context.sent;_context.t0.setAccount.call(_context.t0,_context.t1);props.userAccount(user.toString());// setAccount(accounts[0])\n_context.next=30;break;case 16:if(!window.web3){_context.next=29;break;}window.web3=new Web3(window.web3.currentProvider);_context.next=20;return window.web3.eth.getAccounts();case 20:_user=_context.sent;_context.t2=props;_context.next=24;return window.web3.eth.getAccounts();case 24:_context.t3=_context.sent;_context.t2.setAccount.call(_context.t2,_context.t3);props.userAccount(_user.toString());_context.next=30;break;case 29:window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');// <button type=\"button\" class=\"btn btn-primary\">Connect with MetaMask</button>\ncase 30:case\"end\":return _context.stop();}}},_callee);}));return function connectWallet(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Navbar,{className:classes.nav},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Navbar.Toggle,null),/*#__PURE__*/React.createElement(Navbar.Collapse,{className:\"justify-content-end\"},/*#__PURE__*/React.createElement(Navbar.Text,null,!props.account?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-primary\",onClick:connectWallet},\"Connect with Metamask\")):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{variant:\"outline-primary\",className:classes.buttonConnected},\"Signed in as: \",props.account.toString().substr(0,6),\"...\",props.account.toString().substr(-4,4),/*#__PURE__*/React.createElement(ImageProfile,{account:props.account.toString()})))))));}export default NavigationBar;","map":{"version":3,"sources":["C:/Users/VASILISVITTIS/Documents/main/src/components/layout/Navbar.js"],"names":["React","Container","Navbar","Button","classes","Web3","ImageProfile","NavigationBar","props","connectWallet","e","preventDefault","window","ethereum","web3","enable","eth","getAccounts","user","setAccount","userAccount","toString","currentProvider","alert","nav","account","buttonConnected","substr"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,CAAmBC,MAAnB,CAA2BC,MAA3B,KAAwC,iBAAxC,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CAGA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAG1B,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,CAAP,iIAClBA,CAAC,CAACC,cAAF,GADkB,IAEdC,MAAM,CAACC,QAFO,0BAGdD,MAAM,CAACE,IAAP,CAAc,GAAIT,CAAAA,IAAJ,CAASO,MAAM,CAACC,QAAhB,CAAd,CAHc,sBAIRD,CAAAA,MAAM,CAACC,QAAP,CAAgBE,MAAhB,EAJQ,8BAKKH,CAAAA,MAAM,CAACE,IAAP,CAAYE,GAAZ,CAAgBC,WAAhB,EALL,QAKRC,IALQ,2BAMdV,KANc,wBAMSI,CAAAA,MAAM,CAACE,IAAP,CAAYE,GAAZ,CAAgBC,WAAhB,EANT,+CAMRE,UANQ,+BAOdX,KAAK,CAACY,WAAN,CAAkBF,IAAI,CAACG,QAAL,EAAlB,EACA;AARc,mCASPT,MAAM,CAACE,IATA,0BAUdF,MAAM,CAACE,IAAP,CAAc,GAAIT,CAAAA,IAAJ,CAASO,MAAM,CAACE,IAAP,CAAYQ,eAArB,CAAd,CAVc,uBAWKV,CAAAA,MAAM,CAACE,IAAP,CAAYE,GAAZ,CAAgBC,WAAhB,EAXL,SAWRC,KAXQ,2BAYdV,KAZc,wBAYSI,CAAAA,MAAM,CAACE,IAAP,CAAYE,GAAZ,CAAgBC,WAAhB,EAZT,+CAYRE,UAZQ,+BAcdX,KAAK,CAACY,WAAN,CAAkBF,KAAI,CAACG,QAAL,EAAlB,EAdc,+BAiBdT,MAAM,CAACW,KAAP,CAAa,qEAAb,EACA;AAlBc,uDAAH,kBAAbd,CAAAA,aAAa,4CAAnB,CAuBA,mBACI,oBAAC,MAAD,EAAQ,SAAS,CAAEL,OAAO,CAACoB,GAA3B,eACI,oBAAC,SAAD,EAAW,KAAK,KAAhB,eACI,oBAAC,MAAD,CAAQ,MAAR,MADJ,cAEI,oBAAC,MAAD,CAAQ,QAAR,EAAiB,SAAS,CAAC,qBAA3B,eACI,oBAAC,MAAD,CAAQ,IAAR,MACK,CAAChB,KAAK,CAACiB,OAAP,cACI,4CACO,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,OAAO,CAAEhB,aAA3C,0BADP,CADJ,cAOO,4CACI,2BAAK,OAAO,CAAC,iBAAb,CAA+B,SAAS,CAAEL,OAAO,CAACsB,eAAlD,mBAEUlB,KAAK,CAACiB,OAAP,CAAgBJ,QAAhB,GAA2BM,MAA3B,CAAkC,CAAlC,CAAqC,CAArC,CAFT,OAEsDnB,KAAK,CAACiB,OAAP,CAAgBJ,QAAhB,GAA2BM,MAA3B,CAAkC,CAAC,CAAnC,CAAsC,CAAtC,CAFrD,cAGI,oBAAC,YAAD,EAAc,OAAO,CAAEnB,KAAK,CAACiB,OAAN,CAAcJ,QAAd,EAAvB,EAHJ,CADJ,CARZ,CADJ,CAFJ,CADJ,CADJ,CA2BH,CAED,cAAed,CAAAA,aAAf","sourcesContent":["import React from 'react'\r\nimport {Container, Navbar, Button} from \"react-bootstrap\";\r\nimport classes from './Navbar.module.css'\r\nimport Web3 from \"web3\";\r\nimport ImageProfile from \"../ui/ImageProfile\";\r\n\r\n\r\nfunction NavigationBar(props) {\r\n\r\n\r\n    const connectWallet = async (e) => {\r\n        e.preventDefault()\r\n        if (window.ethereum) {\r\n            window.web3 = new Web3(window.ethereum);\r\n            await window.ethereum.enable()\r\n            const user = await window.web3.eth.getAccounts()\r\n            props.setAccount(await window.web3.eth.getAccounts())\r\n            props.userAccount(user.toString())\r\n            // setAccount(accounts[0])\r\n        } else if (window.web3) {\r\n            window.web3 = new Web3(window.web3.currentProvider)\r\n            const user = await window.web3.eth.getAccounts()\r\n            props.setAccount(await window.web3.eth.getAccounts())\r\n\r\n            props.userAccount(user.toString())\r\n\r\n        } else {\r\n            window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\r\n            // <button type=\"button\" class=\"btn btn-primary\">Connect with MetaMask</button>\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Navbar className={classes.nav}>\r\n            <Container fluid>\r\n                <Navbar.Toggle/>\r\n                <Navbar.Collapse className=\"justify-content-end\">\r\n                    <Navbar.Text>\r\n                        {!props.account ?\r\n                            (<div>\r\n                                    <Button variant=\"outline-primary\" onClick={connectWallet}>Connect with\r\n                                        Metamask\r\n                                    </Button>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <div variant=\"outline-primary\" className={classes.buttonConnected}>\r\n                                        Signed in\r\n                                        as: {(props.account).toString().substr(0, 6)}...{(props.account).toString().substr(-4, 4)}\r\n                                        <ImageProfile account={props.account.toString()}/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            )}\r\n                    </Navbar.Text>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n}\r\n\r\nexport default NavigationBar;\r\n"]},"metadata":{},"sourceType":"module"}