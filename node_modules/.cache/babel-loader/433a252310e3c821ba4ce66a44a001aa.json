{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Container,Navbar,Button}from\"react-bootstrap\";import classes from'./Navbar.module.css';import Web3 from\"web3\";import Identicon from'identicon.js';import ImageProfile from\"../ui/ImageProfile\";// import Button from '../ui/Button'\nfunction NavigationBar(props){var connectWallet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!window.ethereum){_context.next=11;break;}console.log('ETHEREUM');window.web3=new Web3(window.ethereum);_context.next=6;return window.ethereum.enable();case 6:_context.t0=props;_context.next=9;return window.web3.eth.getAccounts();case 9:_context.t1=_context.sent;_context.t0.setAccount.call(_context.t0,_context.t1);case 11:if(!window.web3){_context.next=21;break;}console.log('web3');window.web3=new Web3(window.web3.currentProvider);// setAccount(accounts[0])\n_context.t2=props;_context.next=17;return window.web3.eth.getAccounts();case 17:_context.t3=_context.sent;_context.t2.setAccount.call(_context.t2,_context.t3);_context.next=22;break;case 21:window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');// <button type=\"button\" class=\"btn btn-primary\">Connect with MetaMask</button>\ncase 22:case\"end\":return _context.stop();}}},_callee);}));return function connectWallet(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Navbar,{className:classes.nav},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Navbar.Toggle,null),/*#__PURE__*/React.createElement(Navbar.Collapse,{className:\"justify-content-end\"},/*#__PURE__*/React.createElement(Navbar.Text,null,!props.account?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-primary\",onClick:connectWallet},\"Connect with Metamask\")):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{variant:\"outline-primary\",className:classes.buttonConnected},\"Signed in as: \",props.account.toString().substr(0,6),\"...\",props.account.toString().substr(-4,4),/*#__PURE__*/React.createElement(ImageProfile,{account:props.account.toString()})))))));}export default NavigationBar;","map":{"version":3,"sources":["C:/Users/VASILISVITTIS/Documents/main/src/components/layout/Navbar.js"],"names":["React","Container","Navbar","Button","classes","Web3","Identicon","ImageProfile","NavigationBar","props","connectWallet","e","preventDefault","window","ethereum","console","log","web3","enable","eth","getAccounts","setAccount","currentProvider","alert","nav","account","buttonConnected","toString","substr"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,CAAmBC,MAAnB,CAA2BC,MAA3B,KAAwC,iBAAxC,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CAEA;AAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAG1B,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,CAAP,kHAClBA,CAAC,CAACC,cAAF,GADkB,IAEdC,MAAM,CAACC,QAFO,0BAGdC,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAH,MAAM,CAACI,IAAP,CAAc,GAAIZ,CAAAA,IAAJ,CAASQ,MAAM,CAACC,QAAhB,CAAd,CAJc,sBAKRD,CAAAA,MAAM,CAACC,QAAP,CAAgBI,MAAhB,EALQ,oBAMdT,KANc,uBAMSI,CAAAA,MAAM,CAACI,IAAP,CAAYE,GAAZ,CAAgBC,WAAhB,EANT,8CAMRC,UANQ,2CASdR,MAAM,CAACI,IATO,0BAUdF,OAAO,CAACC,GAAR,CAAY,MAAZ,EACAH,MAAM,CAACI,IAAP,CAAc,GAAIZ,CAAAA,IAAJ,CAASQ,MAAM,CAACI,IAAP,CAAYK,eAArB,CAAd,CACA;AAZc,YAadb,KAbc,wBAaSI,CAAAA,MAAM,CAACI,IAAP,CAAYE,GAAZ,CAAgBC,WAAhB,EAbT,+CAaRC,UAbQ,8DAedR,MAAM,CAACU,KAAP,CAAa,qEAAb,EACA;AAhBc,uDAAH,kBAAbb,CAAAA,aAAa,4CAAnB,CAqBA,mBACI,oBAAC,MAAD,EAAQ,SAAS,CAAEN,OAAO,CAACoB,GAA3B,eACI,oBAAC,SAAD,EAAW,KAAK,KAAhB,eACI,oBAAC,MAAD,CAAQ,MAAR,MADJ,cAEI,oBAAC,MAAD,CAAQ,QAAR,EAAiB,SAAS,CAAC,qBAA3B,eACI,oBAAC,MAAD,CAAQ,IAAR,MACK,CAACf,KAAK,CAACgB,OAAP,cACI,4CACO,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,OAAO,CAAEf,aAA3C,0BADP,CADJ,cAOO,4CAGI,2BAAK,OAAO,CAAC,iBAAb,CAA+B,SAAS,CAAEN,OAAO,CAACsB,eAAlD,mBAEUjB,KAAK,CAACgB,OAAP,CAAgBE,QAAhB,GAA2BC,MAA3B,CAAkC,CAAlC,CAAqC,CAArC,CAFT,OAEsDnB,KAAK,CAACgB,OAAP,CAAgBE,QAAhB,GAA2BC,MAA3B,CAAkC,CAAC,CAAnC,CAAsC,CAAtC,CAFrD,cAGI,oBAAC,YAAD,EAAc,OAAO,CAAEnB,KAAK,CAACgB,OAAN,CAAcE,QAAd,EAAvB,EAHJ,CAHJ,CARZ,CADJ,CAFJ,CADJ,CADJ,CA6BH,CAED,cAAenB,CAAAA,aAAf","sourcesContent":["import React from 'react'\r\nimport {Container, Navbar, Button} from \"react-bootstrap\";\r\nimport classes from './Navbar.module.css'\r\nimport Web3 from \"web3\";\r\nimport Identicon from 'identicon.js'\r\nimport ImageProfile from \"../ui/ImageProfile\";\r\n\r\n// import Button from '../ui/Button'\r\n\r\nfunction NavigationBar(props) {\r\n\r\n\r\n    const connectWallet = async (e) => {\r\n        e.preventDefault()\r\n        if (window.ethereum) {\r\n            console.log('ETHEREUM')\r\n            window.web3 = new Web3(window.ethereum);\r\n            await window.ethereum.enable()\r\n            props.setAccount(await window.web3.eth.getAccounts())\r\n            // setAccount(accounts[0])\r\n        }\r\n        if (window.web3) {\r\n            console.log('web3')\r\n            window.web3 = new Web3(window.web3.currentProvider)\r\n            // setAccount(accounts[0])\r\n            props.setAccount(await window.web3.eth.getAccounts())\r\n        } else {\r\n            window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\r\n            // <button type=\"button\" class=\"btn btn-primary\">Connect with MetaMask</button>\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Navbar className={classes.nav}>\r\n            <Container fluid>\r\n                <Navbar.Toggle/>\r\n                <Navbar.Collapse className=\"justify-content-end\">\r\n                    <Navbar.Text>\r\n                        {!props.account ?\r\n                            (<div>\r\n                                    <Button variant=\"outline-primary\" onClick={connectWallet}>Connect with\r\n                                        Metamask\r\n                                    </Button>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n\r\n\r\n                                    <div variant=\"outline-primary\" className={classes.buttonConnected}>\r\n                                        Signed in\r\n                                        as: {(props.account).toString().substr(0, 6)}...{(props.account).toString().substr(-4, 4)}\r\n                                        <ImageProfile account={props.account.toString()}/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            )}\r\n                    </Navbar.Text>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n}\r\n\r\nexport default NavigationBar;\r\n"]},"metadata":{},"sourceType":"module"}