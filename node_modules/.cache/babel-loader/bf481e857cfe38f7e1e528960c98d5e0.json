{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\VASILISVITTIS\\\\Documents\\\\main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import classes from'./PostSection.module.css';import React,{Component}from'react';import{Container,Col,Row}from'react-bootstrap';import PostList from\"./PostList\";// import CommentSection from '../comments/CommentSection'\nimport CommentList from\"../comments/CommentList\";// import classes1 from \"./PostSection.module.css\";\nvar PostSection=/*#__PURE__*/function(_Component){_inherits(PostSection,_Component);var _super=_createSuper(PostSection);function PostSection(props){var _this;_classCallCheck(this,PostSection);_this=_super.call(this,props);_this.state={commentShow:false,commentsLength:0,postid:0,comments:[]};_this.onClickHandler=_this.onClickHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(PostSection,[{key:\"componentWillMount\",value:function(){var _componentWillMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.props.commentLoading){console.log(this.props.commentLoading);}case 1:case\"end\":return _context.stop();}}},_callee,this);}));function componentWillMount(){return _componentWillMount.apply(this,arguments);}return componentWillMount;}()},{key:\"onClickHandler\",value:function(){var _onClickHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(postId){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// this.state.postid = postId\nthis.setState({commentShow:true});this.setState({postid:postId},/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var post;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.blogPost.methods.posts(this.state.postid).call();case 2:post=_context3.sent;this.setState({commentsLength:post.numberOfComments},/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var i,comment;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.setState({comments:[]});i=1;case 2:if(!(i<=this.state.commentsLength)){_context2.next=10;break;}_context2.next=5;return this.props.blogPost.methods.getComment(post.id,i).call();case 5:comment=_context2.sent;this.setState({comments:[].concat(_toConsumableArray(this.state.comments),[comment])});case 7:i++;_context2.next=2;break;case 10:console.log(this.state.comments);case 11:case\"end\":return _context2.stop();}}},_callee2,this);})));case 4:case\"end\":return _context3.stop();}}},_callee3,this);})));case 2:case\"end\":return _context4.stop();}}},_callee4,this);}));function onClickHandler(_x){return _onClickHandler.apply(this,arguments);}return onClickHandler;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:classes.background},/*#__PURE__*/React.createElement(\"div\",{className:classes.cube}),/*#__PURE__*/React.createElement(\"div\",{className:classes.cube}),/*#__PURE__*/React.createElement(\"div\",{className:classes.cube}),/*#__PURE__*/React.createElement(\"div\",{className:classes.cube}),/*#__PURE__*/React.createElement(\"div\",{className:classes.cube}),/*#__PURE__*/React.createElement(\"div\",{className:classes.cube}),this.props.loading?/*#__PURE__*/React.createElement(\"div\",{id:\"loader\",className:\"text-center mt-5\"},/*#__PURE__*/React.createElement(\"p\",null,\"Loading Posts...\")):/*#__PURE__*/React.createElement(Container,{fluid:true,className:classes.containerFluid},/*#__PURE__*/React.createElement(Row,{className:classes.rowFinder},/*#__PURE__*/React.createElement(Col,{className:classes.containerPost},this.props.postLoading?/*#__PURE__*/React.createElement(\"div\",{id:\"loader\",className:\"text-center mt-5\"},/*#__PURE__*/React.createElement(\"p\",null,\"Loading Posts...\")):/*#__PURE__*/React.createElement(\"div\",{className:classes.containerPost},/*#__PURE__*/React.createElement(\"div\",{className:classes.titlePosts},\"Posts\"),/*#__PURE__*/React.createElement(PostList,{likePost:this.props.likePost,commentClicked:this.onClickHandler,account:this.props.account,commentPost:this.props.commentPost,posts:this.props.postSectionPosts}),/*#__PURE__*/React.createElement(\"div\",{className:classes.scrollSection},/*#__PURE__*/React.createElement(\"span\",{className:classes.scrollIcon},/*#__PURE__*/React.createElement(\"span\",{className:classes.scrollIconDot}))))),/*#__PURE__*/React.createElement(Col,{className:classes.containerPost},this.props.commentLoading?/*#__PURE__*/React.createElement(\"div\",null,\" Loading Comments...\"):/*#__PURE__*/React.createElement(React.Fragment,null,!this.state.commentShow?/*#__PURE__*/React.createElement(\"div\",null):/*#__PURE__*/React.createElement(\"div\",{className:classes.containerPost},/*#__PURE__*/React.createElement(\"div\",{className:classes.titleAnswers},\"Answers\"),/*#__PURE__*/React.createElement(CommentList,{comments:this.state.comments}),/*#__PURE__*/React.createElement(\"div\",{className:classes.scrollSection},/*#__PURE__*/React.createElement(\"span\",{className:classes.scrollIcon},/*#__PURE__*/React.createElement(\"span\",{className:classes.scrollIconDot})))))))));}}]);return PostSection;}(Component);export default PostSection;","map":{"version":3,"sources":["C:/Users/VASILISVITTIS/Documents/main/src/components/posts/PostSection.js"],"names":["classes","React","Component","Container","Col","Row","PostList","CommentList","PostSection","props","state","commentShow","commentsLength","postid","comments","onClickHandler","bind","commentLoading","console","log","postId","setState","blogPost","methods","posts","call","post","numberOfComments","i","getComment","id","comment","background","cube","loading","containerFluid","rowFinder","containerPost","postLoading","titlePosts","likePost","account","commentPost","postSectionPosts","scrollSection","scrollIcon","scrollIconDot","titleAnswers"],"mappings":"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","sourcesContent":["import classes from './PostSection.module.css'\r\nimport React, {Component} from 'react'\r\nimport {Container, Col, Row} from 'react-bootstrap'\r\nimport PostList from \"./PostList\";\r\n// import CommentSection from '../comments/CommentSection'\r\nimport CommentList from \"../comments/CommentList\";\r\n\r\n// import classes1 from \"./PostSection.module.css\";\r\n\r\n\r\nclass PostSection extends Component {\r\n\r\n    async componentWillMount() {\r\n        if (this.props.commentLoading) {\r\n            console.log(this.props.commentLoading)\r\n        }\r\n    }\r\n\r\n\r\n    async onClickHandler(postId) {\r\n        // this.state.postid = postId\r\n\r\n        this.setState({commentShow: true})\r\n\r\n        this.setState({postid: postId}, async function () {\r\n            const post = await this.props.blogPost.methods.posts(this.state.postid).call()\r\n\r\n            this.setState({commentsLength: post.numberOfComments}, async function () {\r\n\r\n                this.setState({comments: []})\r\n                for (var i = 1; i <= this.state.commentsLength; i++) {\r\n                    const comment = await this.props.blogPost.methods.getComment(post.id, i).call();\r\n                    this.setState({\r\n                        comments: [...this.state.comments, comment]\r\n                    })\r\n                }\r\n                console.log(this.state.comments)\r\n            })\r\n\r\n        })\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            commentShow: false,\r\n            commentsLength: 0,\r\n            postid: 0,\r\n            comments: []\r\n        }\r\n\r\n        this.onClickHandler = this.onClickHandler.bind(this)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className={classes.background}>\r\n                <div className={classes.cube}/>\r\n                <div className={classes.cube}/>\r\n                <div className={classes.cube}/>\r\n                <div className={classes.cube}/>\r\n                <div className={classes.cube}/>\r\n                <div className={classes.cube}/>\r\n\r\n                {this.props.loading ? <div id=\"loader\" className=\"text-center mt-5\"><p>Loading Posts...</p></div>\r\n                    :\r\n                    (<Container fluid className={classes.containerFluid}>\r\n\r\n                        <Row className={classes.rowFinder}>\r\n\r\n                            <Col className={classes.containerPost}>\r\n\r\n\r\n                                {this.props.postLoading ?\r\n                                    <div id=\"loader\" className=\"text-center mt-5\"><p>Loading Posts...</p></div> :\r\n                                    <div className={classes.containerPost}>\r\n                                        <div className={classes.titlePosts}>Posts</div>\r\n                                        <PostList\r\n                                            likePost={this.props.likePost}\r\n                                            commentClicked={this.onClickHandler}\r\n                                            account={this.props.account}\r\n                                            commentPost={this.props.commentPost}\r\n                                            posts={this.props.postSectionPosts}/>\r\n                                        <div className={classes.scrollSection}>\r\n                                                                <span className={classes.scrollIcon}>\r\n                                                                       <span className={classes.scrollIconDot}/>\r\n                                                                </span>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            </Col>\r\n                            <Col className={classes.containerPost}>\r\n                                {this.props.commentLoading ? <div> Loading Comments...</div> :\r\n                                    <>\r\n                                        {!this.state.commentShow ? <div/> :\r\n                                            <div className={classes.containerPost}>\r\n                                                <div className={classes.titleAnswers}>Answers</div>\r\n\r\n                                                <CommentList\r\n                                                    comments={this.state.comments}\r\n                                                />\r\n                                                <div className={classes.scrollSection}>\r\n                                    <span className={classes.scrollIcon}>\r\n                                    <span className={classes.scrollIconDot}/>\r\n                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        }\r\n                                    </>\r\n                                }\r\n\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>)}\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default PostSection"]},"metadata":{},"sourceType":"module"}